{"ast":null,"code":"var _jsxFileName = \"C:\\\\MercadoAgricola-\\\\frontend\\\\src\\\\components\\\\forms\\\\LoginForm.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Box, Typography, TextField, Button, IconButton, InputAdornment, Snackbar, Alert } from '@mui/material';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function LoginForm({\n  onClose,\n  onLoginSuccess\n}) {\n  _s();\n  const [mostrarClave, setMostrarClave] = React.useState(false);\n  const [errorLogin, setErrorLogin] = React.useState('');\n  const [emailActual, setEmailActual] = React.useState(localStorage.getItem('token-email'));\n  const onSubmit = data => {\n    if (data.email === 'demo@usuario.com' && data.password === '1234') {\n      localStorage.setItem('token', 'demo-token');\n      localStorage.setItem('token-email', data.email);\n      setEmailActual(data.email);\n      if (onLoginSuccess) onLoginSuccess();\n      if (onClose) onClose();\n      window.dispatchEvent(new Event('storage'));\n    } else {\n      setErrorLogin('Usuario o contraseña incorrectos');\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('token-email');\n    setEmailActual(null);\n    window.dispatchEvent(new Event('storage'));\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    component: \"form\",\n    onSubmit: e => {\n      var _e$target$email, _e$target$password;\n      e.preventDefault();\n      onSubmit({\n        email: (_e$target$email = e.target.email) === null || _e$target$email === void 0 ? void 0 : _e$target$email.value,\n        password: (_e$target$password = e.target.password) === null || _e$target$password === void 0 ? void 0 : _e$target$password.value\n      });\n    },\n    noValidate: true,\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      sx: {\n        fontWeight: 'bold'\n      },\n      children: \"Iniciar sesi\\xF3n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), !emailActual && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        name: \"email\",\n        label: \"Correo electr\\xF3nico\",\n        type: \"email\",\n        fullWidth: true,\n        autoFocus: true,\n        autoComplete: \"username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        name: \"password\",\n        label: \"Contrase\\xF1a\",\n        type: mostrarClave ? 'text' : 'password',\n        fullWidth: true,\n        autoComplete: \"current-password\",\n        InputProps: {\n          endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n            position: \"end\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: () => setMostrarClave(!mostrarClave),\n              \"aria-label\": mostrarClave ? 'Ocultar contraseña' : 'Mostrar contraseña',\n              children: mostrarClave ? /*#__PURE__*/_jsxDEV(VisibilityOffIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 37\n              }, this) : /*#__PURE__*/_jsxDEV(VisibilityIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 61\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this)\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        fullWidth: true,\n        children: \"Iniciar sesi\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        align: \"center\",\n        sx: {\n          mt: 2\n        },\n        children: [\"\\xBFNo te has registrado?\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/registro\",\n          style: {\n            fontWeight: 'bold',\n            color: '#388e3c'\n          },\n          children: \"Reg\\xEDstrate aqu\\xED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), emailActual && /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      color: \"error\",\n      fullWidth: true,\n      onClick: handleLogout,\n      children: \"Cerrar sesi\\xF3n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: !!errorLogin,\n      autoHideDuration: 4000,\n      onClose: () => setErrorLogin(''),\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        variant: \"filled\",\n        onClose: () => setErrorLogin(''),\n        children: errorLogin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginForm, \"32G0hgi6ExivrQ84HjznJUH1tgg=\");\n_c = LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","Box","Typography","TextField","Button","IconButton","InputAdornment","Snackbar","Alert","VisibilityIcon","VisibilityOffIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","LoginForm","onClose","onLoginSuccess","_s","mostrarClave","setMostrarClave","useState","errorLogin","setErrorLogin","emailActual","setEmailActual","localStorage","getItem","onSubmit","data","email","password","setItem","window","dispatchEvent","Event","handleLogout","removeItem","component","e","_e$target$email","_e$target$password","preventDefault","target","value","noValidate","sx","display","flexDirection","gap","children","variant","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","name","label","type","fullWidth","autoFocus","autoComplete","InputProps","endAdornment","position","onClick","color","align","mt","href","style","open","autoHideDuration","anchorOrigin","vertical","horizontal","severity","_c","$RefreshReg$"],"sources":["C:/MercadoAgricola-/frontend/src/components/forms/LoginForm.jsx"],"sourcesContent":["import React from 'react';\nimport {\n  Box,\n  Typography,\n  TextField,\n  Button,\n  IconButton,\n  InputAdornment,\n  Snackbar,\n  Alert\n} from '@mui/material';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\n\nexport default function LoginForm({ onClose, onLoginSuccess }) {\n  const [mostrarClave, setMostrarClave] = React.useState(false);\n  const [errorLogin, setErrorLogin] = React.useState('');\n  const [emailActual, setEmailActual] = React.useState(localStorage.getItem('token-email'));\n\n  const onSubmit = (data) => {\n    if (data.email === 'demo@usuario.com' && data.password === '1234') {\n      localStorage.setItem('token', 'demo-token');\n      localStorage.setItem('token-email', data.email);\n      setEmailActual(data.email);\n      if (onLoginSuccess) onLoginSuccess();\n      if (onClose) onClose();\n      window.dispatchEvent(new Event('storage'));\n    } else {\n      setErrorLogin('Usuario o contraseña incorrectos');\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('token-email');\n    setEmailActual(null);\n    window.dispatchEvent(new Event('storage'));\n  };\n\n  return (\n    <Box\n      component=\"form\"\n      onSubmit={(e) => {\n        e.preventDefault();\n        onSubmit({\n          email: e.target.email?.value,\n          password: e.target.password?.value\n        });\n      }}\n      noValidate\n      sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}\n    >\n      <Typography variant=\"h5\" sx={{ fontWeight: 'bold' }}>\n        Iniciar sesión\n      </Typography>\n\n      {!emailActual && (\n        <>\n          <TextField\n            name=\"email\"\n            label=\"Correo electrónico\"\n            type=\"email\"\n            fullWidth\n            autoFocus\n            autoComplete=\"username\"\n          />\n\n          <TextField\n            name=\"password\"\n            label=\"Contraseña\"\n            type={mostrarClave ? 'text' : 'password'}\n            fullWidth\n            autoComplete=\"current-password\"\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    onClick={() => setMostrarClave(!mostrarClave)}\n                    aria-label={mostrarClave ? 'Ocultar contraseña' : 'Mostrar contraseña'}\n                  >\n                    {mostrarClave ? <VisibilityOffIcon /> : <VisibilityIcon />}\n                  </IconButton>\n                </InputAdornment>\n              )\n            }}\n          />\n\n          <Button type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth>\n            Iniciar sesión\n          </Button>\n\n          <Typography variant=\"body2\" align=\"center\" sx={{ mt: 2 }}>\n            ¿No te has registrado?{' '}\n            <a href=\"/registro\" style={{ fontWeight: 'bold', color: '#388e3c' }}>\n              Regístrate aquí\n            </a>\n          </Typography>\n        </>\n      )}\n\n      {emailActual && (\n        <Button variant=\"outlined\" color=\"error\" fullWidth onClick={handleLogout}>\n          Cerrar sesión\n        </Button>\n      )}\n\n      <Snackbar\n        open={!!errorLogin}\n        autoHideDuration={4000}\n        onClose={() => setErrorLogin('')}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      >\n        <Alert severity=\"error\" variant=\"filled\" onClose={() => setErrorLogin('')}>\n          {errorLogin}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}